{
  "version": 3,
  "sources": ["../../actions/ban.ts"],
  "sourcesContent": ["import { Api, TelegramClient } from \"telegram\"\nimport { NewMessageEvent } from \"telegram/events\"\nimport { sleep } from \"../strt\"\nimport Chk from \"../helpers/chk\"\n\nconst ban = async (client: TelegramClient, e: NewMessageEvent, upt: any) => {\n  const y = new Chk(client, e)\n  try {\n    const m = e.message\n    let usr: any = await y.chk()\n\n    if (!m?.isChannel)\n      return await y.edit('This command is group/channels specific')\n\n    let lt: any; try {\n      lt = await client.invoke(\n        new Api.channels.GetParticipant({\n          channel: m?.peerId,\n          participant: usr,\n        })\n      )\n    } catch (error) { }\n\n    if (lt && (lt.participant.className == \"ChannelParticipantCreator\" || lt.participant.className == \"ChannelParticipantAdmin\")) {\n      return await y.edit(`I can't ban User is admin`)\n    }\n\n    let tim: any = await y.dtm()\n\n    const result = await client.invoke(\n      new Api.channels.EditBanned({\n        channel: await y.chat(),\n        participant: usr,\n        bannedRights: new Api.ChatBannedRights({\n          untilDate: Math.floor(Date.now() / 1000) + (tim && tim < 30 ? 30 : tim), // 1/2 minutes from now\n          viewMessages: true,\n          // sendMessages: false,\n        }),\n      })\n    );\n\n\n    if (!lt)\n      await y.edit(`User is already banned or not available in group`)\n    else if (result)\n      await y.edit('User banned: ' + (tim && tim >= 10 ? (tim >= 30 ? \" until: \" + tim + \" seconds\" : '\\nBanning user 30 seconds\\nTg not allow to mute less than 30 seconds') : \"\"));\n\n  } catch (error: any) {\n    console.log(\"Ban: \" + error.message)\n    await y.gperr(error.message)\n  }\n}\n\nexport default ban"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAoC;AAGpC,iBAAgB;AAEhB,MAAM,MAAM,OAAO,QAAwB,GAAoB,QAAa;AAC1E,QAAM,IAAI,IAAI,WAAAA,QAAI,QAAQ,CAAC;AAC3B,MAAI;AACF,UAAM,IAAI,EAAE;AACZ,QAAI,MAAW,MAAM,EAAE,IAAI;AAE3B,QAAI,EAAC,uBAAG;AACN,aAAO,MAAM,EAAE,KAAK,yCAAyC;AAE/D,QAAI;AAAS,QAAI;AACf,WAAK,MAAM,OAAO;AAAA,QAChB,IAAI,oBAAI,SAAS,eAAe;AAAA,UAC9B,SAAS,uBAAG;AAAA,UACZ,aAAa;AAAA,QACf,CAAC;AAAA,MACH;AAAA,IACF,SAAS,OAAP;AAAA,IAAgB;AAElB,QAAI,OAAO,GAAG,YAAY,aAAa,+BAA+B,GAAG,YAAY,aAAa,4BAA4B;AAC5H,aAAO,MAAM,EAAE,KAAK,2BAA2B;AAAA,IACjD;AAEA,QAAI,MAAW,MAAM,EAAE,IAAI;AAE3B,UAAM,SAAS,MAAM,OAAO;AAAA,MAC1B,IAAI,oBAAI,SAAS,WAAW;AAAA,QAC1B,SAAS,MAAM,EAAE,KAAK;AAAA,QACtB,aAAa;AAAA,QACb,cAAc,IAAI,oBAAI,iBAAiB;AAAA,UACrC,WAAW,KAAK,MAAM,KAAK,IAAI,IAAI,GAAI,KAAK,OAAO,MAAM,KAAK,KAAK;AAAA,UACnE,cAAc;AAAA,QAEhB,CAAC;AAAA,MACH,CAAC;AAAA,IACH;AAGA,QAAI,CAAC;AACH,YAAM,EAAE,KAAK,kDAAkD;AAAA,aACxD;AACP,YAAM,EAAE,KAAK,mBAAmB,OAAO,OAAO,KAAM,OAAO,KAAK,aAAa,MAAM,aAAa,yEAA0E,GAAG;AAAA,EAEjL,SAAS,OAAP;AACA,YAAQ,IAAI,UAAU,MAAM,OAAO;AACnC,UAAM,EAAE,MAAM,MAAM,OAAO;AAAA,EAC7B;AACF;AAEA,IAAO,cAAQ;",
  "names": ["Chk"]
}
